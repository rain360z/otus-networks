#  IPv4/v6

## OSPF

Цель:
Настроить OSPF офисе Москва Разделить сеть на зоны Настроить фильтрацию между зонами

Маршрутизаторы R14-R15 находятся в зоне 0 - backbone
Маршрутизаторы R12-R13 находятся в зоне 10. Дополнительно к маршрутам должны получать маршрут по-умолчанию
Маршрутизатор R19 находится в зоне 101 и получает только маршрут по умолчанию
Маршрутизатор R20 находится в зоне 102 и получает все маршруты, кроме маршрутов до сетей зоны 101
Настройка для IPv6 повторяет логику IPv4
План работы и изменения зафиксированы в документации   

###  Задание: 
1. Настроить OSPF IPv4    
 1.1 Задать на схеме Area и Router ID
 1.2 Настроить работу OSPF на всех маршрутизаторах в сети
 1.3 Поставить фильтр на AREA 101 и 102, проверить изменения
2. Настроить OSPF IPv6


###  Решение:

### 1. Задать на схеме Area и Router ID

СХЕМА

### 2. Настроить работу OSPF на всех маршрутизаторах в сети

Для более наглядной фильтрации настраим ospf везде

2.1 Настроим работу OSFP на R14
 
Команды для настройки OSPF на примере R14

Запустим процесс ospf и зададим уникальный router-id:

``` R14(config)# router ospf 4  
    R14(config-router)# router-id 0.0.0.14   
```

Отключим отправку hello пакетов на всех интерфейсах  
``` R14(config-router)#passive-interface default ```

Теперь укажем интерфейсы, на которых мы будем отправлять hello пакеты. Для R1 это e0/0 и e0/1, e0/3:     

``` R14(config-router)#no passive-interface fa0/0   
    R14(config-router)#no passive-interface fa0/1  
```
Текущий маршрутизатор имет роль ASBR/
ASBR имеет доступ до провайдера internet. Укажем другим маршрутизаторам в Автономной системе,
что мы занаем маршрут по умолчанию.   

```R14(config-router)#default-information originate   
```

Настроим работу OSPF на интерфейсе e0/3. Укажем что между двумя маршрутизаторами 
в области 101 point-to-point сеть.
``` 
R14(config-if)#int e0/3
R14(config-if)# ip ospf 4 area 101
R14(config-if)# ip ospf network point-to-point

```
Настроим e0/0 и e0/1

``` 
R14(config-if)#int e0/0
R14(config-if)# ip ospf 4 area 0
R14(config-if)# ip ospf network point-to-point
R14(config-if)#int e0/1
R14(config-if)# ip ospf 4 area 0
R14(config-if)# ip ospf network point-to-point
```

В соответствии с зонами настроим остальные маршрутизаторы.


